# Система управления магазином электроники

[![C#](https://img.shields.io/badge/C%23-12.0-blue?logo=c-sharp)](https://dotnet.microsoft.com/en-us/languages/csharp)
[![.NET](https://img.shields.io/badge/.NET-8.0-512bd4?logo=dotnet)](https://dotnet.microsoft.com/)
[![SQL Server](https://img.shields.io/badge/SQL%20Server-2022-cc2927?logo=microsoft-sql-server)](https://www.microsoft.com/en-us/sql-server)
[![Windows Forms](https://img.shields.io/badge/Windows%20Forms-.NET%208.0-0078d4?logo=windows)](https://docs.microsoft.com/en-us/dotnet/desktop/winforms/)
[![Visual Studio](https://img.shields.io/badge/Visual%20Studio-2022-5c2d91?logo=visual-studio)](https://visualstudio.microsoft.com/)

Клиент-серверное приложение для автоматизации управления магазином электроники, разработанное в качестве курсового проекта. Система предоставляет полный функционал для учета товаров, поставщиков, заказов и пользователей с разграничением прав доступа.

## Возможности

-   **Многоуровневая система авторизации**: Роли Администратор, Персонал и Клиент с различными правами доступа
-   **Полный CRUD-функционал**: Добавление, просмотр, редактирование и удаление записей во всех сущностях (Товары, Заказы, Поставщики, Пользователи)
-   **Управление заказами**: Клиенты могут оформлять заказы, персонал и администраторы — управлять ими
-   **Аналитика и отчетность**: Встроенные SQL-запросы для анализа продаж, остатков товаров и финансовых показателей
-   **Управление ценами**: Функции применения скидок и повышения цен для персонала и администраторов
-   **Интуитивный GUI**: Windows Forms интерфейс, адаптированный под каждую роль пользователя

## Технологический стек

-   **Клиентская часть**: C#, .NET 8.0, Windows Forms
-   **Серверная часть**: Microsoft SQL Server
-   **Архитектура**: Клиент-серверная
-   **Среда разработки**: Microsoft Visual Studio 2022

## Структура базы данных

Система использует реляционную БД, нормализованную до 3NF, со следующими основными таблицами:
-   **Товары** (`id_товара`, Название, Бренд, Категория, Цена, Количество на складе, id_поставщика)
-   **Заказы** (`id_заказа`, id_клиента, ДатаЗаказа, ОбщаяСумма, Статус, id_товара)
-   **Клиенты** (`id_клиента`, Имя, Фамилия, Электронная почта, Телефон, Адрес, Логин, Пароль, Статус)
-   **Поставщики** (`id_поставщика`, Название, Адрес, Телефон)

## Запуск приложения

### Предварительные требования

-   **ОС**: Windows 7 или выше
-   **Память**: Не менее 4 ГБ ОЗУ
-   **ПО**: 
    -   Установленный .NET 8.0 Runtime или SDK
    -   Microsoft SQL Server (Express или выше)
    -   Восстановленная база данных из прилагаемого `.bacpac` файла

### Установка и настройка

1.  **Восстановите базу данных**:
    -   Откройте SQL Server Management Studio (SSMS)
    -   Восстановите базу данных из файла `Estore.bacpac`

2.  **Настройте строку подключения**:
    -   В коде приложения (файл `MainForm.cs`) убедитесь, что строка подключения `connectionStr` соответствует вашим настройкам SQL Server.

3.  **Запустите приложение**:
    -   Откройте решение `Estore.sln` в Visual Studio 2022
    -   Восстановите зависимости NuGet (если потребуется)
    -   Соберите и запустите проект (F5)

## Использование системы

### 1. Регистрация и вход

-   **Новый пользователь**: Нажмите "Регистрация" на начальной форме для создания учетной записи клиента.
-   **Существующий пользователь**: Введите логин и пароль. Система автоматически определит вашу роль (Администратор, Персонал, Клиент) и откроет соответствующий интерфейс.

*Для тестирования функционала администратора/персонала используйте предустановленные учетные записи из БД (логины с статусами `adm` и `pers`).*

### 2. Интерфейс и права доступа

-   **Клиент**:
    -   Просмотр каталога товаров
    -   Оформление заказов доступных товаров

-   **Персонал**:
    -   Полное управление товарами (добавление, редактирование, удаление)
    -   Управление заказами
    -   Запуск аналитических запросов
    -   Управление ценами (скидки, повышение)

-   **Администратор**:
    -   Все права персонала
    -   Полное управление пользователями и поставщиками
    -   Полный доступ ко всем таблицам и данным

### 3. Основные операции

-   **Добавление записи**: Нажмите кнопку "Добавить" в главном окне, находясь в нужной таблице.
-   **Редактирование записи**: Выделите всю строку в таблице и нажмите "Изменить".
-   **Удаление записи**: Выделите всю строку и нажмите "Удалить".
-   **Оформление заказа (для клиента)**: Выделите товар в таблице и нажмите "Заказ".

## Аналитические запросы

В системе реализованы следующие SQL-запросы для анализа данных (доступны персоналу и администратору):

1.  **Товары с низким остатком**: Показывает товары, которых на складе меньше 10 единиц.
2.  **Активные заказы**: Отображает все заказы со статусом 'active'.
3.  **Клиенты за последний месяц**: Список клиентов, делавших заказы в течение последних 30 дней.
4.  **Самый дорогой заказ**: Находит заказ с наибольшей общей суммой.
5.  **Управление ценами**: 
    -   **+0.5 к цене**: Повышает цену всех товаров на 0.5 единицы.
    -   **Скидка 10%**: Применяет 10% скидку на все товары.

## Документация

В папке [`/docs/`](/docs/) находится полная документация по проекту.
